<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setup | Vue Auth 3</title>
    <meta name="description" content="Plugin that inherits from @websanova/vue-auth brings great auth manager to vue 3!">
    <link rel="stylesheet" href="/assets/style.f12fccbb.css">
    <link rel="modulepreload" href="/assets/chunks/AlgoliaSearchBox.15900fec.js">
    <link rel="modulepreload" href="/assets/app.6a9cb9d5.js">
    <link rel="modulepreload" href="/assets/guide_drivers.md.018eecf0.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/icon.svg">
  <meta name="twitter:title" content="Setup | Vue Auth 3">
  <meta property="og:title" content="Setup | Vue Auth 3">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Vue Auth 3, back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="/icon.svg" alt="Logo" data-v-cc01ef16> Vue Auth 3</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/tachibana-shin/vue-auth3/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/tachibana-shin/vue-auth3" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/tachibana-shin/vue-auth3/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/tachibana-shin/vue-auth3" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Introduction</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/introduction">What is vue-auth3?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/getting-started">Getting Started</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/plugins">Plugins</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/guide/drivers">Drivers</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#auth-drivers">Auth Drivers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#http-drivers">HTTP Drivers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#router-drivers-deleted">Router Drivers [Deleted!]</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#oauth2-drivers">OAuth2 Drivers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#custom-drivers">Custom Drivers</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/auth-meta">Auth Meta</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/requests">Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/oauth2">OAuth2</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/token">Token</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/cookie">Cookie</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Methods</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/overview">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/init">Init</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/user-data">User Data</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/register-and-login">Login &amp; Register</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/impersonating">Impersonating</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/methods/utils">Utils</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Config</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/options/core">Core</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/options/options-generate">Base</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Composition API</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/composition-api/useAuth">useAuth</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/composition-api/useUser">useUser</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>The plugin is made to re-use and integrate with existing vue plugins as much as possible.</p><p>For this reason it ships with a driver model which includes four driver types.</p><h1 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-hidden="true">#</a></h1><p>A typical setup might look like the following.</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createAuth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-auth3&quot;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span>

<span class="token keyword">import</span> driverAuthBasic <span class="token keyword">from</span> <span class="token string">&quot;vue-auth3/drivers/auth/basic&quot;</span>
<span class="token keyword">import</span> driverHttpAxios <span class="token keyword">from</span> <span class="token string">&quot;vue-auth3/drivers/http/axios&quot;</span>
<span class="token comment">// import driverOAuth2FaB from &quot;vue-auth3/driver/oauth2/facebook&quot;</span>
<span class="token comment">// import driverOAuth2Goo from &quot;vue-auth3/driver/oauth2/google&quot;</span>

<span class="token keyword">const</span> auth <span class="token operator">=</span> <span class="token function">createAuth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  drivers<span class="token operator">:</span> <span class="token punctuation">{</span>
    auth<span class="token operator">:</span> driverAuthBasic<span class="token punctuation">,</span> <span class="token comment">// required</span>
    http<span class="token operator">:</span> driverHttpAxios<span class="token punctuation">,</span> <span class="token comment">// required</span>
    <span class="token comment">// oauth2: {</span>
    <span class="token comment">// facebook: driverOAuth2FaB,</span>
    <span class="token comment">// google: driverOAuth2Goo</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="auth-drivers" tabindex="-1">Auth Drivers <a class="header-anchor" href="#auth-drivers" aria-hidden="true">#</a></h2><p>This driver is used to parse a token from a response and format a token for a request.</p><p>In it you will find the two functions aptly named <code>request</code> and <code>response</code>.</p><p>For instance, if I take the simplest case of the <a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/auth/basic.ts" target="_blank" rel="noopener noreferrer">basic.ts</a> driver, I can see it&#39;s simply setting and returning a token with no other modifications.</p><div class="tip custom-block"><p class="custom-block-title">Driver for cross-domain</p><p>If your app requires <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">cross-domain</a> use the <code>bearer-token</code> . driver</p></div><h4 id="available-drivers" tabindex="-1">Available Drivers <a class="header-anchor" href="#available-drivers" aria-hidden="true">#</a></h4><ul><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/auth/basic.ts" target="_blank" rel="noopener noreferrer">basic.ts</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/auth/bearer.ts" target="_blank" rel="noopener noreferrer">bearer.ts</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/auth/bearer-token.ts" target="_blank" rel="noopener noreferrer">bearer-token.ts</a>: Same as bearer.ts but instead of getting token at <code>headers.Authorization</code> it will get token at <code>data.token</code> suitable for cross-domain</li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/auth/devise.ts" target="_blank" rel="noopener noreferrer">devise.ts</a></li></ul><h2 id="http-drivers" tabindex="-1">HTTP Drivers <a class="header-anchor" href="#http-drivers" aria-hidden="true">#</a></h2><ul><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/http/axios.ts" target="_blank" rel="noopener noreferrer">axios</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/http/fetch.ts" target="_blank" rel="noopener noreferrer">fetch</a></li></ul><h4 id="_1-make-http-requests-to-our-api" tabindex="-1">1. Make HTTP requests to our API. <a class="header-anchor" href="#_1-make-http-requests-to-our-api" aria-hidden="true">#</a></h4><p>No need to add additional code for something that already exists and works fine. So I decided to create an <code>HTTP Driver for axios</code> instead of dynamically importing the whole <code>axios</code> inside.</p><div class="info custom-block"><p class="custom-block-title">Options</p><p>It&#39;s important to note that all VueAuth3 action functions accept a <code>options</code> which, except for a few features of that function, will accept all options of <a href="https://github.com/axiosjs/axios" target="_blank" rel="noopener noreferrer">axios</a> to send requests.</p></div><div class="language-ts"><pre><code><span class="token comment">// login</span>
auth<span class="token punctuation">.</span><span class="token function">$login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...AxiosRequestConfig</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    email<span class="token operator">:</span> <span class="token string">&quot;jfoi2323njf@duck.com&quot;</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token string">&quot;cmoiu9012A0[]=ee&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2-control-requests-and-responses" tabindex="-1">2. Control requests and responses. <a class="header-anchor" href="#_2-control-requests-and-responses" aria-hidden="true">#</a></h4><p>I need a way to make sure our token is sent with each request if set. Likewise I also need to sniff out any new token in the response from our API during login or impersonate requests. Any descent existing plugin should already support this and allow us to easily create these intercepts.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>These intercepts are directly fed into the auth drivers. So for instance a response intercept gets triggered which then calls the <code>response</code> auth driver function. Same applies to requests.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Although using axios, its only effect is to send requests. I don&#39;t inject code in it so you can easily replace it with <code>fetch</code></p></div><h4 id="available-drivers-1" tabindex="-1">Available Drivers: <a class="header-anchor" href="#available-drivers-1" aria-hidden="true">#</a></h4><ul><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/http/axios.ts" target="_blank" rel="noopener noreferrer">axios.ts</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/http/fetch.ts" target="_blank" rel="noopener noreferrer">fetch</a></li></ul><h2 id="router-drivers-deleted" tabindex="-1">Router Drivers [Deleted!] <a class="header-anchor" href="#router-drivers-deleted" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>Router drivers are no longer needed. Now you just need to add <code>plugins: { router }</code></p></div><h2 id="oauth2-drivers" tabindex="-1">OAuth2 Drivers <a class="header-anchor" href="#oauth2-drivers" aria-hidden="true">#</a></h2><p>These drivers are used to make an OAuth2 request to their respective services.</p><p>To customize these requires only setting a url and default OAuth2 parameters.</p><h4 id="available-drivers-2" tabindex="-1">Available Drivers: <a class="header-anchor" href="#available-drivers-2" aria-hidden="true">#</a></h4><ul><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/oauth2/facebook.ts" target="_blank" rel="noopener noreferrer">facebook.ts</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/drivers/oauth2/google.ts" target="_blank" rel="noopener noreferrer">google.ts</a></li></ul><h2 id="custom-drivers" tabindex="-1">Custom Drivers <a class="header-anchor" href="#custom-drivers" aria-hidden="true">#</a></h2><p>The best way to customize a driver is to simply look at the source code on GitHub of one of the existing ones. From there an existing one can be copied and modified to suit particular needs for the application.</p><p>The drivers will heavily integrate with the particular plugin they interact with. For instance if using the <code>fetch</code> plugin it will directly affect the <code>http</code> and <code>auth</code> drivers. For this reason, I will not go into specific details on how to customize each driver.</p><p>However if you know typescript you can create a driver easily</p><ul><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/type/drivers/AuthDriver.ts" target="_blank" rel="noopener noreferrer">Auth Driver Types</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/type/drivers/HttpDriver.ts" target="_blank" rel="noopener noreferrer">HTTP Driver Types</a></li><li><a href="https://github.com/tachibana-shin/vue-auth3/blob/master/src/type/drivers/OAuth2Driver.ts" target="_blank" rel="noopener noreferrer">OAuth2 Driver Types</a></li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/tachibana-shin/vue-auth3/edit/master/docs/guide/drivers.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on Github <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><p class="last-updated" data-v-07c132fc data-v-abce3432><span class="prefix" data-v-abce3432>Last Updated:</span><span class="datetime" data-v-abce3432></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/guide/plugins" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Plugins</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/guide/auth-meta" data-v-38ede35f><span class="text" data-v-38ede35f>Auth Meta</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"composition-api_useauth.md\":\"09350507\",\"composition-api_useuser.md\":\"51456367\",\"guide_auth-meta.md\":\"24dcf5d9\",\"guide_cookie.md\":\"ff42080d\",\"guide_drivers.md\":\"018eecf0\",\"guide_getting-started.md\":\"68d3f1d1\",\"guide_oauth2.md\":\"48029e07\",\"guide_plugins.md\":\"7d2ae055\",\"guide_requests.md\":\"d193e4e9\",\"guide_token.md\":\"98bdff34\",\"index.md\":\"72f736c4\",\"introduction.md\":\"f8b63d07\",\"methods_impersonating.md\":\"567fc481\",\"methods_init.md\":\"73d344e8\",\"methods_overview.md\":\"51b3d1c6\",\"methods_register-and-login.md\":\"b94560e5\",\"methods_user-data.md\":\"f5c030ba\",\"methods_utils.md\":\"f0108aec\",\"options_core.md\":\"3be53e48\",\"options_options-generate.md\":\"0149de9b\"}")</script>
    <script type="module" async src="/assets/app.6a9cb9d5.js"></script>
    
  </body>
</html>